// Optionally override Bootstrap variables here
// $primary: #0d6efd;

// Import Bootstrap (includes all needed mixins/variables)
@use "bootstrap";

// Import our local styles with explicit namespaces
@use "base";

// Dynamic Background Colors for Rows and Cards
:root {
  --dynamic-bg-1: #f8f9fa;
  --dynamic-bg-2: #e9ecef;
  --dynamic-bg-3: #dee2e6;
  --dynamic-bg-4: #ced4da;
  --dynamic-bg-5: #adb5bd;
  --dynamic-bg-6: #6c757d;
  --dynamic-bg-7: #495057;
  --dynamic-bg-8: #343a40;
}

[data-bs-theme="light"] {
  --dynamic-bg-1: rgba(13, 110, 253, 0.05); // Blue
  --dynamic-bg-2: rgba(25, 135, 84, 0.05); // Green
  --dynamic-bg-3: rgba(220, 53, 69, 0.05); // Red
  --dynamic-bg-4: rgba(255, 193, 7, 0.05); // Yellow
  --dynamic-bg-5: rgba(13, 202, 240, 0.05); // Cyan
  --dynamic-bg-6: rgba(102, 16, 242, 0.05); // Indigo
  --dynamic-bg-7: rgba(214, 51, 132, 0.05); // Pink
  --dynamic-bg-8: rgba(253, 126, 20, 0.05); // Orange

  --layout-sidebar-bg: #f8fafc;
  --layout-header-bg: #ffffff;
  --layout-content-bg: #f1f5f9;
  --layout-border-color: #e2e8f0;
  --layout-text-primary: #1e293b;
}

[data-bs-theme="dark"] {
  --dynamic-bg-1: rgba(13, 110, 253, 0.15);
  --dynamic-bg-2: rgba(25, 135, 84, 0.15);
  --dynamic-bg-3: rgba(220, 53, 69, 0.15);
  --dynamic-bg-4: rgba(255, 193, 7, 0.15);
  --dynamic-bg-5: rgba(13, 202, 240, 0.15);
  --dynamic-bg-6: rgba(102, 16, 242, 0.15);
  --dynamic-bg-7: rgba(214, 51, 132, 0.15);
  --dynamic-bg-8: rgba(253, 126, 20, 0.15);

  --layout-sidebar-bg: #0f172a;
  --layout-header-bg: #1e293b;
  --layout-content-bg: #020617;
  --layout-border-color: #334155;
  --layout-text-primary: #f8fafc;
}

@for $i from 1 through 8 {
  .dynamic-bg-#{$i} {
    background-color: var(--dynamic-bg-#{$i}) !important;

    // Ensure cells in tables don't have their own background (like Bootstrap's striped rows)
    & > td,
    & > th {
      background-color: transparent !important;
    }

    // For cards, we might want to also color the border slightly
    &.card {
      border-color: var(--dynamic-bg-#{$i}) !important;
      border-width: 2px;
    }
  }
}

// Ensure hovered rows don't completely override the background if we want to keep it subtle
.table-hover tbody tr.dynamic-bg-1:hover,
.table-hover tbody tr.dynamic-bg-2:hover,
.table-hover tbody tr.dynamic-bg-3:hover,
.table-hover tbody tr.dynamic-bg-4:hover,
.table-hover tbody tr.dynamic-bg-5:hover,
.table-hover tbody tr.dynamic-bg-6:hover,
.table-hover tbody tr.dynamic-bg-7:hover,
.table-hover tbody tr.dynamic-bg-8:hover {
  filter: brightness(0.9) !important;
}

[data-bs-theme="dark"] .table-hover tbody tr[class*="dynamic-bg-"]:hover {
  filter: brightness(1.3) !important;
}
